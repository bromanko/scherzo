---
id: s-9903
status: closed
deps: []
links: []
created: 2026-01-20T04:03:25Z
type: task
priority: 2
assignee: Brian Romanko
tags: [security, process-isolation]
---
# Implement proper subprocess cleanup on timeout

When command timeout occurs in agent/process.gleam, the spawned process continues running unlinked and unmonitored. This could lead to orphaned processes consuming resources or continuing to make changes.

Current code at process.gleam:217-222 acknowledges: 'The subprocess may still be running... Proper cleanup would require OS-level process kill.'

Suggested approach:
- Track the OS PID of the subprocess
- On timeout, send SIGTERM/SIGKILL to clean up
- Could use erlang:open_port with {os_pid, Pid} option to get the OS PID

