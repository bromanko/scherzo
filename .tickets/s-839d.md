---
id: s-839d
status: open
deps: []
links: []
created: 2026-01-20T03:18:44Z
type: chore
priority: 2
assignee: Brian Romanko
tags: [refactor, architecture]
---
# Refactor orchestrator to separate VCS operations

Both orchestrator.gleam and process.gleam manage jj state independently with no coordination. Both create/update jj changes for the same tasks, creating potential race conditions and duplicate operations.

## Acceptance Criteria

Create dedicated vcs/manager.gleam module that owns all jj operations
Have orchestrator delegate VCS operations to this manager
Add request/response pattern to prevent concurrent jj operations
Add comprehensive logging of all VCS state changes

