---
id: s-a623
status: open
deps: []
links: []
created: 2026-01-20T03:45:32Z
type: bug
priority: 3
assignee: Brian Romanko
tags: [security]
---
# Fix trailing dash in sanitize_id unicode handling

Unicode characters are replaced with dashes in workspace.sanitize_id(), which can leave trailing dashes.

## Location
src/scherzo/agent/workspace.gleam:237-245

## Example
```
"task-日本語" → "task-"
```

## Impact
Minimal - results in valid but unusual IDs.

## Fix
Trim leading/trailing dashes after character replacement and before collapse_dashes:
```gleam
|> string.trim_start("-")
|> string.trim_end("-")
```

Or handle in collapse_dashes function.

