---
id: s-a701
status: done
deps: []
links: []
created: 2026-01-22T18:45:00Z
type: task
priority: 2
assignee: Brian Romanko
parent: s-a700
tags: [phase-5g, config]
---
# Create agent config loader

Create `src/scherzo/config/agent_config.gleam` to load custom agent configurations from `.scherzo/agents/<name>/`.

## Implementation

```gleam
pub type AgentCustomConfig {
  AgentCustomConfig(
    name: String,
    instructions: Option(String),       // CLAUDE.md content
    settings_overrides: Option(String), // settings.json content (raw JSON)
  )
}

pub fn empty() -> AgentCustomConfig
pub fn load(repo_dir: String, agent_name: String) -> Result(AgentCustomConfig, String)
pub fn load_task_config(repo_dir: String) -> Result(AgentCustomConfig, String)
```

## Behavior

- Reads from `.scherzo/agents/<agent_name>/CLAUDE.md` and `settings.json`
- Returns empty config if directory doesn't exist (not an error)
- Returns error for I/O failures or malformed JSON

## Acceptance Criteria

- [x] AgentCustomConfig type defined
- [x] load() reads both files when present
- [x] Returns empty config when directory missing
- [x] Returns error for malformed settings.json
- [x] Unit tests in `test/scherzo/config/agent_config_test.gleam`
